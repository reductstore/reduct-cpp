name: "build-package"
description: "Install package and build example"
inputs:
  install:
    default: "true"
    description: "Install the package after build"
  build_type:
    description: "Type of build (e.g., cmake or conan)"
    required: true
runs:
  using: "composite"
  steps:
    - name: Run conan install
      if: ${{inputs.build_type == 'conan' }}
      shell: bash
      run: conan install .
    - name: Build package
      if: ${{inputs.build_type == 'conan' }}
      shell: bash
      run: cmake --preset conan-release
    # - name: Install package
    #   if: ${{inputs.install == 'true' }}
    #   shell: bash
    #   run: sudo cmake --build build --target install
    # - name: Build example
    #   if: ${{inputs.install == 'true' }}
    #   shell: bash
    #   run: |
    #     mkdir examples/build
    #     cd examples/build
    #     cmake ..
    #     cmake --build .
